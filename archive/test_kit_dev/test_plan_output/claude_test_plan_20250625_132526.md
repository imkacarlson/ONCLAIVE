# Consolidated Test Plan for Plan Net

## Generated on: 2025-06-25 13:25:39

## API Type: claude

## Table of Contents

- [General Capability](#general-capability)
  - [REQ-03: Population of Must Support data elements](#req-03)
- [General Conformance](#general-conformance)
  - [REQ-06: Client handling of Must Support data elements](#req-06)
- [General Processing](#general-processing)
  - [REQ-09: Client processing of missing information indicators](#req-09)
- [Security and Privacy](#security-and-privacy)
  - [REQ-02: No PII sending by clients](#req-02)
- [System-Wide](#system-wide)
  - [REQ-10: JSON format support](#req-10)

## Test Specifications

<a id='general-capability'></a>

## General Capability

<a id='req-03'></a>

### REQ-03: Population of Must Support data elements

**Description**: "Health Plan API actors SHALL be capable of populating all Must Support data elements as part of the query results."

**Actor**: Health Plan API

**Conformance**: SHALL

# Test Specification for REQ-03

## 1. Requirement ID
REQ-03: Population of Must Support data elements

## 2. Requirement Analysis

### Testability Assessment
- **Classification**: Automatically testable
- **Rationale**: Must Support elements can be programmatically verified in API responses

### Complexity
- **Level**: Complex
- **Rationale**: Requires testing across multiple resources and data elements, with comprehensive validation of Must Support elements

### Prerequisites
1. Access to Health Plan API endpoints
2. List of all Must Support elements from the IG for each resource type
3. Test client capable of making FHIR API requests
4. Sample patient data available in the system
5. Valid authentication credentials

## 3. Test Implementation Strategy

### Required Inputs
1. Resource types that include Must Support elements
2. Valid patient identifiers for testing
3. Valid search parameters for each resource type

### Required FHIR Operations
1. GET operations for each resource type containing Must Support elements
2. Search operations with relevant parameters

### Test Approach

#### Test Case 1: Individual Resource Must Support Validation
1. For each resource type with Must Support elements:
   - Perform GET operation to retrieve instances
   - Verify presence of Must Support elements in response
   - Document any Must Support elements that are absent

#### Test Case 2: Must Support in Search Results
1. For each resource type with Must Support elements:
   - Execute search operation with minimal parameters
   - Verify Must Support elements are included in search results
   - Document any Must Support elements that are absent from search results

### Validation Criteria

#### Pass Criteria
1. All Must Support elements are:
   - Present in API responses when data exists
   - Populated with valid values according to IG data type requirements
   - Consistent with FHIR specifications

#### Fail Criteria
1. Any of the following conditions:
   - Must Support elements are missing from API responses when data exists
   - Must Support elements contain invalid values
   - API returns errors when requesting Must Support elements

### Test Documentation Requirements
1. List of tested resource types
2. Summary of Must Support elements tested
3. Results for each resource type:
   - Present Must Support elements
   - Missing Must Support elements
   - Any validation errors encountered

### Notes
1. Test implementation should be data-agnostic and work with any valid FHIR data
2. Absence of Must Support elements is acceptable if no relevant data exists
3. Focus on structural validation rather than business logic
4. Document any Must Support elements that cannot be tested due to system limitations

The test plan allows for flexibility in data while ensuring conformance to the Must Support requirements across all applicable resources.

---



<a id='general-conformance'></a>

## General Conformance

<a id='req-06'></a>

### REQ-06: Client handling of Must Support data elements

**Description**: "Application actors SHALL be capable of processing resource instances containing the Must Support data elements without generating an error or causing the application to fail."

**Actor**: Application Actor

**Conformance**: SHALL

# Test Specification for REQ-06

## 1. Requirement ID
REQ-06: Client handling of Must Support data elements

## 2. Requirement Analysis

### Testability Assessment
- **Classification**: Automatically testable
- **Rationale**: Can be tested by sending resources containing Must Support elements and verifying application behavior

### Complexity
- **Level**: Moderate
- **Rationale**: Requires testing multiple resources and data elements, but follows a consistent pattern

### Prerequisites
- Access to Implementation Guide's Must Support element definitions
- Test client application configured and running
- Ability to monitor client application behavior/responses
- Access to test server capable of sending FHIR resources

## 3. Test Implementation Strategy

### Required Inputs
- List of all Must Support elements defined in the IG for each resource type
- FHIR resources containing Must Support elements
- FHIR resources with varying combinations of Must Support elements present/absent

### Test Scenarios

#### Scenario 1: Basic Must Support Processing
1. For each resource type with Must Support elements:
   - Send a resource instance containing all Must Support elements
   - Verify client processes without error
   - Verify client correctly displays/handles the Must Support elements

#### Scenario 2: Partial Must Support Elements
1. For each resource type with Must Support elements:
   - Send a resource instance containing only some Must Support elements
   - Verify client processes without error
   - Verify client handles missing Must Support elements gracefully

#### Scenario 3: Edge Cases
1. For each resource type:
   - Send a resource with Must Support elements containing minimum allowed values
   - Send a resource with Must Support elements containing maximum allowed values
   - Verify client processes without error in both cases

### Validation Criteria

#### Success Criteria
- Client application processes resources without generating errors
- Client application does not crash or fail
- Client application handles the Must Support elements appropriately according to their business purpose
- Client application gracefully handles absence of optional Must Support elements

#### Failure Criteria
- Client generates errors when processing Must Support elements
- Client crashes or fails when processing Must Support elements
- Client fails to process or display Must Support elements appropriately

### Test Data Requirements
- Test data should include:
  - Valid instances of each resource type
  - Various combinations of Must Support elements
  - Valid values within allowed ranges for Must Support elements
- Testers should use their own valid production-like data that includes Must Support elements

### Test Implementation Notes
1. Test execution should be resource-type specific
2. Document any specific handling requirements for Must Support elements
3. Include verification of both presence and absence handling
4. Focus on interoperability impacts rather than UI-specific implementations

This test specification provides a framework for verifying conformance while allowing implementers to use their own relevant data and specific business requirements within the general conformance framework.

---



<a id='general-processing'></a>

## General Processing

<a id='req-09'></a>

### REQ-09: Client processing of missing information indicators

**Description**: "Consumer App actors SHALL be able to process resource instances containing Must Support data elements asserting missing information."

**Actor**: Application Actor

**Conformance**: SHALL

# Test Specification for REQ-09

## 1. Requirement ID
REQ-09: Client processing of missing information indicators

## 2. Requirement Analysis

### Testability Assessment
Automatically testable through a combination of system interactions and validation checks

### Complexity
Moderate - Requires testing multiple scenarios of missing information patterns across different Must Support elements

### Prerequisites
- Consumer App system under test must be running and accessible
- Test environment must be able to supply FHIR resources with various missing information patterns
- List of Must Support elements for the implementation guide must be available
- Access to sample resources that implement missing information patterns (nullFlavor, data absent reason extensions, etc.)

## 3. Test Implementation Strategy

### Required Inputs
- FHIR Resources containing Must Support elements with various missing information patterns:
  1. Resources using dataAbsentReason extension
  2. Resources with null values
  3. Resources with empty elements where allowed
  4. Resources using implementation guide-specific missing information patterns

### Required FHIR Operations
- READ operations to retrieve resources with missing information patterns
- SEARCH operations to verify handling of resources with missing information in result sets

### Test Scenarios

#### Scenario 1: Basic Missing Information Processing
1. For each resource type containing Must Support elements:
   - Configure test resources with dataAbsentReason extensions
   - Consumer App retrieves and displays the resource
   - Verify the app appropriately indicates the missing information to users

#### Scenario 2: Search Results Processing
1. Execute searches that return resources with missing information
2. Verify Consumer App:
   - Successfully processes the search results
   - Correctly displays or handles the missing information indicators
   - Does not crash or error when processing missing data

#### Scenario 3: Multiple Missing Information Patterns
1. Test processing of resources containing multiple Must Support elements with different missing information patterns in the same resource
2. Verify proper handling of all patterns simultaneously

### Validation Criteria

For each test scenario, verify the Consumer App:

1. Successfully processes the resource without errors
2. Provides appropriate visual/UI indication of missing information
3. Maintains functionality when processing resources with missing data
4. Preserves the missing information context when storing/retrieving data
5. Handles missing information consistently across different resource types

### Test Data Requirements

Testers should prepare resources that include:
1. At least one instance of each Must Support element marked as missing
2. Multiple missing elements within the same resource
3. Different patterns for indicating missing information
4. Valid combinations of present and missing data

### Pass/Fail Criteria

The test PASSES if:
1. Consumer App successfully processes all test resources without errors
2. Missing information is clearly indicated to users
3. App functionality remains intact when processing missing data
4. No loss of missing information context occurs during processing

The test FAILS if:
1. App crashes or produces errors when processing missing information
2. Missing information is not properly indicated to users
3. App functionality is impaired when processing missing data
4. Missing information context is lost during processing

Note: This test specification follows a "bring your own data" approach by focusing on patterns and behaviors rather than specific data fixtures. Testers can apply these test scenarios to their specific implementation context and data.

---



<a id='security-and-privacy'></a>

## Security and Privacy

<a id='req-02'></a>

### REQ-02: No PII sending by clients

**Description**: "A directory mobile application SHALL NOT send consumer identifiable information when querying a Plan-Net service."

**Actor**: Application Actor

**Conformance**: SHALL NOT

# Test Specification for REQ-02

## 1. Requirement ID
REQ-02: No PII sending by clients

## 2. Requirement Analysis

### Testability Assessment
- **Classification**: Automatically testable through network traffic inspection
- **Verification Method**: Automated inspection of HTTP requests

### Complexity
Moderate - Requires inspection of all outgoing requests and understanding of PII data patterns

### Prerequisites
- Network traffic monitoring capability must be in place
- Access to client application's network communication layer
- Documentation of all API endpoints used by the client application
- List of PII data elements to check for:
  - Names
  - Addresses
  - Phone numbers
  - Email addresses
  - Social Security Numbers
  - Medical Record Numbers
  - Account Numbers
  - Other identifiable information

## 3. Test Implementation Strategy

### Required Inputs
- Client application configured for testing
- Sample non-PII search parameters for valid Plan-Net queries

### Required FHIR Operations
Monitor all outgoing requests, particularly:
- GET operations on Plan-Net endpoints
- Search operations using query parameters
- Any POST operations that include search parameters

### Test Cases

#### TC1: Basic Search Parameter Validation
**Objective**: Verify no PII is included in basic search parameters
1. Monitor all query parameters in URLs
2. Verify query parameters only contain approved non-PII search terms
3. Check URL encoding for attempts to mask PII

#### TC2: Complex Search Parameter Validation
**Objective**: Verify no PII in complex search scenarios
1. Monitor compound searches
2. Check for PII in _filter parameters
3. Verify no PII in custom parameters

#### TC3: Request Body Content Validation
**Objective**: Verify no PII in POST request bodies
1. Monitor POST request bodies
2. Check for PII in any JSON/XML content
3. Verify no PII in custom headers

### Validation Criteria

For each request, verify:
1. Query parameters do not contain PII patterns
2. Request headers do not contain PII
3. Request bodies (if present) do not contain PII
4. No attempt to encode or obfuscate PII

### Pass/Fail Criteria
- PASS: No PII detected in any outgoing requests
- FAIL: Any instance of PII detected in requests

### Notes
1. Test implementation should be configurable for different PII patterns
2. Regular expression patterns should be maintained for common PII formats
3. Consider cultural variations in PII formats (e.g., different phone number formats)
4. Document any false positives for continuous improvement

---



<a id='system-wide'></a>

## System-Wide

<a id='req-10'></a>

### REQ-10: JSON format support

**Description**: "Support json source formats for all Plan-Net interactions."

**Actor**: Health Plan API

**Conformance**: SHALL

# Test Specification for REQ-10: JSON Format Support

## 1. Requirement ID
REQ-10

## 2. Requirement Analysis

### Testability Assessment
- **Classification**: Automatically testable
- **Complexity**: Simple
- **Rationale**: The requirement to support JSON format can be systematically tested through HTTP requests and response validation

### Prerequisites
- Health Plan API endpoint is accessible and operational
- Test client capable of making HTTP requests with different Accept headers
- Basic test data exists in the system (any valid FHIR resources)

## 3. Test Implementation Strategy

### Required Inputs
- Health Plan API base URL
- Valid credentials/authentication tokens if required
- List of supported FHIR resource types from the system's capability statement

### Test Scenarios

#### Test Case 1: JSON Content-Type Request Headers
**Objective**: Verify that the system accepts JSON formatted requests
- For each supported write operation:
  1. Set request Content-Type header to `application/fhir+json`
  2. Submit a valid FHIR resource
  3. **Expected**: Server accepts the request without format-related errors

#### Test Case 2: JSON Accept Headers
**Objective**: Verify that the system returns JSON formatted responses
- For each supported read operation:
  1. Set Accept header to `application/fhir+json`
  2. Make request to retrieve a resource
  3. **Expected**: 
     - Response Content-Type header includes `application/fhir+json`
     - Response body is valid JSON format
     - Response body is valid FHIR JSON syntax

#### Test Case 3: Format Parameter Support
**Objective**: Verify _format parameter handling
- For each supported read operation:
  1. Add `_format=json` parameter to request URL
  2. **Expected**: 
     - Response is in JSON format
     - Response Content-Type header includes `application/fhir+json`

### Validation Criteria

1. **Format Verification**:
   - All responses must be parseable as valid JSON
   - All responses must conform to FHIR JSON syntax rules
   - Content-Type headers must properly indicate JSON format

2. **Error Handling**:
   - When requesting unsupported formats, server should respond with appropriate error status code
   - Error responses should also be in JSON format

### Test Data Requirements
- No specific test data required beyond having at least one instance of each supported resource type
- Tests should work with any valid FHIR resources in the system

### Implementation Notes
1. Tests should be executed against all supported FHIR endpoints/interactions
2. Test automation should include JSON schema validation
3. Tests should verify both request acceptance and response format
4. Implementation should be environment-agnostic and work with any valid FHIR data

### Success Criteria
All test cases pass when:
1. Server accepts JSON-formatted requests
2. Server returns JSON-formatted responses
3. Response content is valid FHIR JSON
4. Appropriate Content-Type headers are present

---



