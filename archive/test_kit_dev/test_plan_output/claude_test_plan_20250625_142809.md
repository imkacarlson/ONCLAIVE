# Consolidated Test Plan for Plan Net

## Generated on: 2025-06-25 14:28:31

## API Type: claude

## Table of Contents

- [General](#general)
  - [REQ-03: Population of Must Support data elements](#req-03)
- [General_Technical](#general_technical)
  - [REQ-10: JSON format support](#req-10)
- [Non-Resource Specific](#non-resource-specific)
  - [REQ-06: Client handling of Must Support data elements](#req-06)
  - [REQ-09: Client processing of missing information indicators](#req-09)
- [Plan-Net Network](#plan-net-network)
  - [REQ-02: No PII sending by clients](#req-02)

## Test Specifications

<a id='general'></a>

## General

<a id='req-03'></a>

### REQ-03: Population of Must Support data elements

**Description**: "Health Plan API actors SHALL be capable of populating all Must Support data elements as part of the query results."

**Actor**: Health Plan API

**Conformance**: SHALL

# Test Specification for REQ-03

## 1. Requirement ID
REQ-03: Population of Must Support data elements

## 2. Requirement Analysis

### Testability Assessment
- **Classification**: Automatically testable
- **Rationale**: Must Support elements can be programmatically checked in FHIR resources returned by the API

### Complexity
- **Level**: Complex
- **Rationale**: Requires checking multiple resources and their Must Support elements across various API responses

### Prerequisites
1. Access to Health Plan API endpoints
2. List of all resources with Must Support elements from the IG
3. Test client capable of making FHIR API requests
4. Valid authentication credentials/tokens
5. Test data existing in the system that would contain Must Support elements

## 3. Test Implementation Strategy

### Required Inputs
1. Resource types that contain Must Support elements
2. For each resource type:
   - List of Must Support elements and their paths
   - Valid search parameters to retrieve resources

### Required FHIR Operations
1. GET operations for each resource type containing Must Support elements
2. Search operations using different parameters to ensure comprehensive coverage

### Test Approach

#### Part 1: Resource Instance Discovery
1. For each resource type with Must Support elements:
   - Execute search operation to retrieve a set of instances
   - Verify at least one instance is returned
   - Store references to retrieved instances for detailed analysis

#### Part 2: Must Support Element Validation
1. For each retrieved resource instance:
   - Check presence of Must Support elements
   - Document which Must Support elements are populated
   - Track statistics on Must Support element population

### Validation Criteria

#### Pass Criteria
1. The system demonstrates ability to populate all Must Support elements:
   - Across the test dataset, each Must Support element must be populated in at least one instance
   - No Must Support elements are consistently absent across all instances

#### Fail Criteria
1. Any Must Support element is never populated across all instances of a resource type
2. API returns errors when attempting to retrieve resources
3. Retrieved resources are invalid according to FHIR validation

### Test Data Requirements
- Test data should include various scenarios where Must Support elements would be populated
- No specific test fixtures required; system's own data can be used
- Minimum of 5 instances per resource type recommended for meaningful testing

### Reporting Requirements
1. List of all Must Support elements checked
2. Statistics on population rates for Must Support elements
3. Any Must Support elements never found populated
4. Overall pass/fail determination

## Notes
- This test specification is designed to work with any valid FHIR data
- Focus is on verifying capability to populate Must Support elements, not testing every possible combination
- Test implementation should be flexible to accommodate different data patterns while maintaining consistent validation criteria

---



<a id='general_technical'></a>

## General_Technical

<a id='req-10'></a>

### REQ-10: JSON format support

**Description**: "Support json source formats for all Plan-Net interactions."

**Actor**: Health Plan API

**Conformance**: SHALL

# Test Specification for REQ-10: JSON Format Support

## 1. Requirement ID
REQ-10

## 2. Requirement Analysis

### Testability Assessment
- **Classification**: Automatically testable
- **Justification**: JSON format support can be verified through automated HTTP requests and response analysis

### Complexity
- **Simple**
- **Rationale**: Testing JSON format support is straightforward and involves basic HTTP header manipulation and response validation

### Prerequisites
- Access to the Health Plan API endpoints
- Valid authentication credentials (if required)
- Basic test data for at least one resource type supported by the system

## 3. Test Implementation Strategy

### Required Inputs
- List of supported FHIR endpoints from the system under test
- Valid authentication token (if required)
- Sample resource IDs for read operations

### Required FHIR Operations
For comprehensive format testing, perform the following operations:
1. READ operation on a known resource
2. SEARCH operation on a resource type
3. CREATE operation (if supported)

### Test Cases

#### TC1: Read Request JSON Format
1. **Setup**:
   - Configure request header: `Accept: application/fhir+json`
2. **Action**: 
   - Perform GET request on any supported resource endpoint
3. **Validation**:
   - Verify response Content-Type header contains `application/fhir+json`
   - Verify response body is valid JSON
   - Verify response body is parseable as FHIR JSON

#### TC2: Search Request JSON Format
1. **Setup**:
   - Configure request header: `Accept: application/fhir+json`
2. **Action**:
   - Perform GET search request on any supported resource type
3. **Validation**:
   - Verify response Content-Type header contains `application/fhir+json`
   - Verify response body is valid JSON
   - Verify response is a valid FHIR Bundle
   - Verify Bundle entries are in JSON format

#### TC3: POST Request JSON Format (if supported)
1. **Setup**:
   - Configure request headers:
     - `Content-Type: application/fhir+json`
     - `Accept: application/fhir+json`
   - Prepare valid FHIR resource in JSON format
2. **Action**:
   - Perform POST request with JSON payload
3. **Validation**:
   - Verify response Content-Type header contains `application/fhir+json`
   - Verify response body is valid JSON
   - Verify response contains appropriate FHIR resource

### Validation Criteria
For all test cases, the following must be true:
1. Response headers must include `Content-Type: application/fhir+json`
2. Response body must be parseable as valid JSON
3. Response must conform to FHIR JSON syntax rules
4. Server must reject requests with incorrect format headers with appropriate error status

### Error Cases to Test
1. Send request with `Accept: application/fhir+xml`
   - Expected: 406 Not Acceptable or similar error
2. Send POST request with XML content (if POST supported)
   - Expected: 415 Unsupported Media Type

### Notes
- Tests should be executed against multiple resource types if available
- Test data can be any valid FHIR resources supported by the system
- Focus on format verification rather than content validation
- Implementation should allow for different resource types and IDs to be tested

---



<a id='non-resource-specific'></a>

## Non-Resource Specific

<a id='req-06'></a>

### REQ-06: Client handling of Must Support data elements

**Description**: "Application actors SHALL be capable of processing resource instances containing the Must Support data elements without generating an error or causing the application to fail."

**Actor**: Application Actor

**Conformance**: SHALL

# Test Specification for REQ-06

## 1. Requirement ID
REQ-06: Client handling of Must Support data elements

## 2. Requirement Analysis

### Testability Assessment
- **Classification**: Automatically testable with manual verification
- **Rationale**: Can be systematically tested by sending resources with Must Support elements and verifying application behavior

### Complexity
- **Level**: Moderate
- **Rationale**: Requires testing multiple Must Support elements across different resource types, but follows a consistent pattern

### Prerequisites
1. Access to the Application Actor (system under test)
2. List of all Must Support elements defined in the Implementation Guide
3. Capability to create and send FHIR resources to the application
4. Ability to monitor application behavior and responses

## 3. Test Implementation Strategy

### Required Inputs
1. FHIR resources containing Must Support elements with valid values
2. FHIR resources containing Must Support elements with edge case values (minimum/maximum values, empty strings where allowed)
3. FHIR resources containing combinations of Must Support elements

### Test Scenarios

#### Scenario 1: Basic Must Support Processing
**Objective**: Verify application can process individual Must Support elements
1. For each resource type with Must Support elements:
   - Send a resource instance containing one Must Support element
   - Verify application processes without error
   - Verify application correctly displays/uses the Must Support element

#### Scenario 2: Multiple Must Support Elements
**Objective**: Verify application can process multiple Must Support elements simultaneously
1. For each resource type with Must Support elements:
   - Send a resource instance containing all Must Support elements
   - Verify application processes without error
   - Verify application correctly displays/uses all Must Support elements

#### Scenario 3: Edge Cases for Must Support Elements
**Objective**: Verify application handles boundary conditions for Must Support elements
1. For each Must Support element:
   - Test with minimum allowed values
   - Test with maximum allowed values
   - Test with empty values (where permitted by element definition)
   - Verify application processes without error in each case

### Validation Criteria

#### Success Criteria
1. Application continues to function without errors or crashes
2. Application correctly processes and displays Must Support elements
3. No error messages related to Must Support element processing
4. Application maintains expected functionality while processing Must Support elements

#### Failure Criteria
1. Application generates errors or crashes
2. Application fails to process Must Support elements
3. Application ignores or improperly handles Must Support elements
4. Application functionality is impaired when processing Must Support elements

### Test Data Requirements
- Test data should be created by the tester using their own domain-appropriate data
- Each test case should use valid FHIR resources conforming to the Implementation Guide
- Test data should include all Must Support elements defined in the Implementation Guide

### Test Documentation Requirements
1. List of Must Support elements tested
2. Description of test data used
3. Record of application behavior for each test case
4. Screenshots or logs demonstrating successful processing
5. Any error messages or unexpected behavior observed

### Notes
- Tests should be performed for each resource type containing Must Support elements
- Tests should be repeated for different valid combinations of Must Support elements
- Implementation Guide-specific Must Support element requirements should be considered
- Focus on verifying basic processing capability rather than exhaustive testing
- Document any assumptions made during testing

---

<a id='req-09'></a>

### REQ-09: Client processing of missing information indicators

**Description**: "Consumer App actors SHALL be able to process resource instances containing Must Support data elements asserting missing information."

**Actor**: Application Actor

**Conformance**: SHALL

# Test Specification for REQ-09

## 1. Requirement ID
REQ-09: Client processing of missing information indicators

## 2. Requirement Analysis

### Testability Assessment
- **Classification**: Automatically testable
- **Rationale**: Can be tested by providing resources with different missing information patterns and verifying client handling

### Complexity
- **Level**: Moderate
- **Rationale**: Requires testing multiple missing information patterns across different Must Support elements

### Prerequisites
- List of Must Support elements for each relevant resource type
- Access to test client application
- Ability to inject or provide test resources to the client application
- Documentation of client's expected behavior for missing information display

## 3. Test Implementation Strategy

### Required Inputs
1. FHIR Resources containing Must Support elements with different missing information patterns:
   - dataAbsentReason extension
   - null values
   - empty elements
   - omitted optional elements

### Test Scenarios

#### Scenario 1: DataAbsentReason Extension
```markdown
Test Steps:
1. Provide resource with Must Support elements using dataAbsentReason extension
2. Verify client correctly displays or processes:
   - unknown (unknown)
   - asked-declined (asked but declined)
   - not-asked (not asked)
   - masked (information masked)
   - unsupported (unsupported)
   - as-text (represented as text)
   - error (error)
   - not-applicable (not applicable)
```

#### Scenario 2: Null Values
```markdown
Test Steps:
1. Provide resource with Must Support elements containing explicit null values
2. Verify client handles null values appropriately without errors
3. Verify client provides appropriate user feedback for null values
```

#### Scenario 3: Empty Elements
```markdown
Test Steps:
1. Provide resource with Must Support elements containing empty strings or arrays
2. Verify client handles empty elements appropriately
3. Verify client provides appropriate user feedback for empty elements
```

#### Scenario 4: Omitted Optional Elements
```markdown
Test Steps:
1. Provide resource with omitted optional Must Support elements
2. Verify client handles missing optional elements appropriately
3. Verify client provides appropriate user feedback for missing optional elements
```

### Validation Criteria

For each scenario, verify:
1. Client application processes the resource without errors
2. Client application provides appropriate visual/UI indication of missing information
3. Client application maintains functional stability
4. Missing information is clearly distinguished from present information
5. Any downstream processing correctly handles the missing information cases

### Pass/Fail Criteria
- **Pass**: Client successfully processes all missing information patterns without errors and provides appropriate feedback
- **Fail**: Any of the following:
  - Client crashes or throws errors when processing missing information
  - Client fails to indicate missing information to users
  - Client treats missing information as present data
  - Client fails to process downstream operations correctly with missing information

### Test Data Requirements
- Test data should include examples of each missing information pattern
- Test data should cover different resource types with Must Support elements
- Test data should be valid according to FHIR specifications
- Test data should include both required and optional Must Support elements

### Notes
1. Implementation should be flexible to accommodate different client UI implementations
2. Focus on verifying proper handling of missing information, not specific UI representations
3. Test cases should be repeatable with different data sets
4. Document any specific client behaviors or requirements for missing information display

---



<a id='plan-net-network'></a>

## Plan-Net Network

<a id='req-02'></a>

### REQ-02: No PII sending by clients

**Description**: "A directory mobile application SHALL NOT send consumer identifiable information when querying a Plan-Net service."

**Actor**: Application Actor

**Conformance**: SHALL NOT

# Test Specification for REQ-02

## 1. Requirement ID
REQ-02: No PII sending by clients

## 2. Requirement Analysis

### Testability Assessment
- **Classification**: Automatically testable through API request inspection
- **Complexity**: Moderate
- **Rationale**: Request parameters and payloads can be programmatically inspected for PII patterns, though complete verification requires human review to confirm no novel PII patterns are present

### Prerequisites
- Access to network traffic monitoring capabilities or API gateway logs
- List of defined PII data elements to check against
- Test client application configured to make Plan-Net service queries
- Documentation of all supported search parameters and operations for the Plan-Net service

## 3. Test Implementation Strategy

### Required Inputs
- Sample queries representing typical application usage patterns
- List of PII data elements to check for, including but not limited to:
  - Names
  - Dates of birth
  - Social security numbers
  - Email addresses
  - Phone numbers
  - Physical addresses
  - Insurance member IDs
  - Medical record numbers

### Test Scenarios

#### Scenario 1: Search Parameter Inspection
1. Monitor all search parameters used in queries to Plan-Net endpoints
2. Verify no search parameters contain PII data elements
3. Check URL encoding for attempts to hide PII

#### Scenario 2: Request Payload Inspection
1. Monitor all request bodies sent to Plan-Net endpoints
2. Verify no request payloads contain PII data elements
3. Check for PII in custom headers or metadata

### Validation Criteria

#### Automatic Validation
1. URL Parameter Checks:
   - No parameters matching PII patterns
   - No base64 or encoded strings that could contain PII
   - No custom parameters outside documented Plan-Net search parameters

2. Request Body Checks:
   - No JSON/XML elements containing PII patterns
   - No embedded PII in resource references
   - No custom extensions containing PII

#### Manual Review Points
1. Review query patterns for novel ways of encoding PII
2. Verify no business logic exists that would trigger PII transmission
3. Document any edge cases or unclear situations for further analysis

### Test Data Requirements
- Test data should be synthetic and non-identifiable
- Test queries should use valid Plan-Net search parameters
- Test scenarios should cover all supported search operations

### Expected Results
- All requests should be free of PII elements
- Logs should show only approved Plan-Net search parameters
- No custom parameters or payloads containing consumer information

### Success Criteria
- Zero instances of PII detected in monitored traffic
- All queries use only documented Plan-Net search parameters
- No encoding or obfuscation attempts detected
- Test client maintains full functionality without sending PII

### Test Documentation Requirements
1. List of all monitored PII patterns
2. Log of all requests made during testing
3. Documentation of any manual review findings
4. Record of any edge cases or unclear situations

---



